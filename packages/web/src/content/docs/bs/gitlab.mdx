---
title: GitLab
description: Koristite Blackbox AI u GitLab problemima i zahtjevima za spajanje.
---

Blackbox AI se integriše sa vašim GitLab radnim tokom kroz vaš GitLab CI/CD cevovod ili sa GitLab Duo.
U oba slučaja, Blackbox AI će se pokrenuti na vašim GitLab pokretačima.

---

## GitLab CI

Blackbox AI radi u redovnom GitLab cevovodu. Možete ga ugraditi u cjevovod kao [CI komponenta](https://docs.gitlab.com/ee/ci/components/)
Ovdje koristimo CI/CD komponentu kreiranu u zajednici za Blackbox AI — [nagyv/gitlab-blackbox ai](https://gitlab.com/nagyv/gitlab-blackbox ai).

---

### Funkcije

- **Koristite prilagođenu konfiguraciju po poslu**: Konfigurirajte Blackbox AI s prilagođenim konfiguracijskim direktorijem, na primjer `./config/#custom-directory` da omogućite ili onemogućite funkcionalnost po Blackbox AI pozivanju.
- **Minimalno podešavanje**: CI komponenta postavlja Blackbox AI u pozadini, samo trebate kreirati Blackbox AI konfiguraciju i početnu prompt.
- **Fleksibilno**: CI komponenta podržava nekoliko ulaza za prilagođavanje njenog ponašanja

---

### Podešavanje

1. Sačuvajte JSON za autentifikaciju Blackbox AI kao CI varijable okruženja tipa datoteke pod **Postavke** > **CI/CD** > **Varijable**. Obavezno ih označite kao "Maskirane i skrivene".
2. Dodajte sljedeće u svoju `.gitlab-ci.yml` datoteku.

```yaml title=".gitlab-ci.yml"
include:
  - component: $CI_SERVER_FQDN/nagyv/gitlab-blackbox ai/blackbox ai@2
    inputs:
      config_dir: ${CI_PROJECT_DIR}/blackbox ai-config
      auth_json: $BLACKBOX_AI_AUTH_JSON # The variable name for your Blackbox AI authentication JSON
      command: optional-custom-command
      message: "Your prompt here"
```

Za više unosa i slučajeva upotrebe [pogledajte dokumente docs](https://gitlab.com/explore/catalog/nagyv/gitlab-blackbox ai) za ovu komponentu.

---

## GitLab Duo

Blackbox AI se integriše sa vašim GitLab tokovom rada.
Spomenite `@blackbox ai` u komentaru i Blackbox AI će izvršiti zadatke unutar vašeg GitLab CI cevovoda.

---

### Funkcije

- **Problemi trijaže**: Zamolite Blackbox AI da ispita problem i objasni vam ga.
- **Popravi i implementiraj**: Zamolite Blackbox AI da popravi problem ili implementira funkciju.
  To će kreirati novu granu i pokrenuti zahtjev za spajanje s promjenama.
- **Secure**: Blackbox AI radi na vašim GitLab pokretačima.

---

### Podešavanje

Blackbox AI radi u vašem GitLab CI/CD cevovodu, evo šta će vam trebati da ga postavite:
:::tip
Pogledajte [**GitLab dokumente**](https://docs.gitlab.com/user/duo_agent_platform/agent_assistant/) za ažurirane upute.
:::

1.  Konfigurirajte svoje GitLab okruženje
2.  Postavite CI/CD
3.  Nabavite API ključ dobavljača AI modela
4.  Kreirajte nalog usluge
5.  Konfigurirajte CI/CD varijable
6.  Kreirajte konfiguracijski fajl toka, evo primjera:

        <details>

    <summary>Konfiguracija toka</summary>

    ```yaml
    image: node:22-slim
    commands:
      - echo "Installing blackbox ai"
      - npm install --global blackbox ai-ai
      - echo "Installing glab"
      - export GITLAB_TOKEN=$GITLAB_TOKEN_BLACKBOX_AI
      - apt-get update --quiet && apt-get install --yes curl wget gpg git && rm --recursive --force /var/lib/apt/lists/*
      - curl --silent --show-error --location "https://raw.githubusercontent.com/upciti/wakemeops/main/assets/install_repository" | bash
      - apt-get install --yes glab
      - echo "Configuring glab"
      - echo $GITLAB_HOST
      - echo "Creating Blackbox AI auth configuration"
      - mkdir --parents ~/.local/share/blackbox ai
      - |
        cat > ~/.local/share/blackbox ai/auth.json << EOF
        {
          "anthropic": {
            "type": "api",
            "key": "$ANTHROPIC_API_KEY"
          }
        }
        EOF
      - echo "Configuring git"
      - git config --global user.email "blackbox ai@gitlab.com"
      - git config --global user.name "Blackbox AI"
      - echo "Testing glab"
      - glab issue list
      - echo "Running Blackbox AI"
      - |
        blackbox ai run "
        You are an AI assistant helping with GitLab operations.

        Context: $AI_FLOW_CONTEXT
        Task: $AI_FLOW_INPUT
        Event: $AI_FLOW_EVENT

        Please execute the requested task using the available GitLab tools.
        Be thorough in your analysis and provide clear explanations.

        <important>
        Please use the glab CLI to access data from GitLab. The glab CLI has already been authenticated. You can run the corresponding commands.

        If you are asked to summarize an MR or issue or asked to provide more information then please post back a note to the MR/Issue so that the user can see it.
        You don't need to commit or push up changes, those will be done automatically based on the file changes you make.
        </important>
        "
      - git checkout --branch $CI_WORKLOAD_REF origin/$CI_WORKLOAD_REF
      - echo "Checking for git changes and pushing if any exist"
      - |
        if ! git diff --quiet || ! git diff --cached --quiet || [ --not --zero "$(git ls-files --others --exclude-standard)" ]; then
          echo "Git changes detected, adding and pushing..."
          git add .
          if git diff --cached --quiet; then
            echo "No staged changes to commit"
          else
            echo "Committing changes to branch: $CI_WORKLOAD_REF"
            git commit --message "Codex changes"
            echo "Pushing changes up to $CI_WORKLOAD_REF"
            git push https://gitlab-ci-token:$GITLAB_TOKEN@$GITLAB_HOST/gl-demo-ultimate-dev-ai-epic-17570/test-java-project.git $CI_WORKLOAD_REF
            echo "Changes successfully pushed"
          fi
        else
          echo "No git changes detected, skipping push"
        fi
    variables:
      - ANTHROPIC_API_KEY
      - GITLAB_TOKEN_BLACKBOX_AI
      - GITLAB_HOST
    ```

        </details>

Možete vidjeti [GitLab CLI agenti docs](https://docs.gitlab.com/user/duo_agent_platform/agent_assistant/) za detaljna uputstva.

---

### Primjeri

Evo nekoliko primjera kako možete koristiti Blackbox AI u GitLab.
:::tip
Možete konfigurirati da koristite drugu frazu okidača od `@blackbox ai`.
:::

- **Objasnite problem**
  Dodajte ovaj komentar u izdanje GitLaba.

```
  @blackbox ai explain this issue
```

Blackbox AI će pročitati problem i odgovoriti jasnim objašnjenjem.

- **Reši problem**
  U izdanju GitLaba recite:

```
  @blackbox ai fix this
```

Blackbox AI će kreirati novu granu, implementirati promjene i otvoriti zahtjev za spajanje s promjenama.

- **Pregledajte zahtjeve za pridruživanje**
  Ostavite sljedeći komentar na zahtjev za spajanje GitLab-a.

```
  @blackbox ai review this merge request
```

Blackbox AI će pregledati zahtjev za spajanje i dati povratne informacije.
