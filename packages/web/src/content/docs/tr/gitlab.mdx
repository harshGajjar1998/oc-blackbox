---
title: GitLab
description: GitLab sorunlarında ve birleştirme isteklerinde blackbox ai'u kullanın.
---

blackbox ai, GitLab CI/CD işlem hattınız veya GitLab Duo aracılığıyla GitLab iş akışınızla bütünleşir.

Her iki durumda da blackbox ai, GitLab çalıştırıcılarınızda çalışacaktır.

---

## GitLab CI

blackbox ai normal bir GitLab işlem hattında çalışır. Bunu bir [CI component](https://docs.gitlab.com/ee/ci/components/) olarak bir işlem hattına oluşturabilirsiniz.

Burada blackbox ai için topluluk tarafından oluşturulan bir CI/CD bileşeni kullanıyoruz — [nagyv/gitlab-blackbox ai](https://gitlab.com/nagyv/gitlab-blackbox ai).

---

### Özellikler

- **İş başına özel işlemleri kullanın**: blackbox ai parçalarının kullanıma veya devre dışı bırakmak için blackbox ai'u özel bir yapılandırma dizini ile yapılandırın; örneğin `./config/#custom-directory`.
- **Minimum kurulum**: CI bileşeni blackbox ai'u arka planda kurar; yalnızca blackbox ai yapılandırmasını ve ilk istemi oluşturmanız gerekir.
- **Esnek**: CI bileşeni, davranışını özelleştirmek için çeşitli girişleri destekler

---

### Kurulum

1. blackbox ai kimlik doğrulamanızı JSON **Ayarlar** > **CI/CD** > **Değişkenler** altında Dosya türü CI ortam değişkenleri olarak saklayın. Bunları "Maskeli ve gizli" olarak işaretlediğinizden emin olun.
2. Aşağıdakileri `.gitlab-ci.yml` dosyanıza ekleyin.

   ```yaml title=".gitlab-ci.yml"
   include:
     - component: $CI_SERVER_FQDN/nagyv/gitlab-blackbox ai/blackbox ai@2
       inputs:
         config_dir: ${CI_PROJECT_DIR}/blackbox ai-config
         auth_json: $BLACKBOX_AI_AUTH_JSON # The variable name for your Blackbox AI authentication JSON
         command: optional-custom-command
         message: "Your prompt here"
   ```

Daha fazla girdi ve bu bileşene yönelik kullanım durumları için [check out the docs](https://gitlab.com/explore/catalog/nagyv/gitlab-blackbox ai).

---

## GitLab Duo

blackbox ai, GitLab iş akışınızla bütünleşir.
Bir yorumda `@blackbox ai`'dan bahsedin; blackbox ai, GitLab CI işlem hattınızdaki görevleri yürütecektir.

---

### Özellikler

- **Sorunları önceliklendirin**: blackbox ai'dan bir sorunu araştırıp size açıklamasını isteyin.
- **Düzelt ve uygula**: blackbox ai'dan bir sorunu düzeltmesini veya bir özelliği uygulamasını isteyin.
  Yeni bir dal oluşturacak ve değişikliklerle birlikte bir birleştirme isteği oluşturacaktır.
- **Güvenli**: blackbox ai, GitLab çalıştırıcılarınızda çalışır.

---

### Yapılandırma

blackbox ai, GitLab CI/CD işlem hattınızda çalışır; bunu ayarlamak için ihtiyacınız olacaklar:

:::tip
Güncel talimatlar için [**GitLab docs**](https://docs.gitlab.com/user/duo_agent_platform/agent_assistant/)'a göz atın.
:::

1.  GitLab ortamınızı yapılandırın
2.  CI/CD'yi kurma
3.  Bir AI model sağlayıcısı API anahtarını gösterir
4.  Hizmet hesabı oluşturun
5.  CI/CD değişkenlerini yapılandırma
6.  Bir akış yapılandırma dosyası oluşturun; işte bir örnek:

        <details>

    <summary>Akış yapılandırması</summary>

    ```yaml
    image: node:22-slim
    commands:
      - echo "Installing blackbox ai"
      - npm install --global blackbox ai-ai
      - echo "Installing glab"
      - export GITLAB_TOKEN=$GITLAB_TOKEN_BLACKBOX_AI
      - apt-get update --quiet && apt-get install --yes curl wget gpg git && rm --recursive --force /var/lib/apt/lists/*
      - curl --silent --show-error --location "https://raw.githubusercontent.com/upciti/wakemeops/main/assets/install_repository" | bash
      - apt-get install --yes glab
      - echo "Configuring glab"
      - echo $GITLAB_HOST
      - echo "Creating Blackbox AI auth configuration"
      - mkdir --parents ~/.local/share/blackbox ai
      - |
        cat > ~/.local/share/blackbox ai/auth.json << EOF
        {
          "anthropic": {
            "type": "api",
            "key": "$ANTHROPIC_API_KEY"
          }
        }
        EOF
      - echo "Configuring git"
      - git config --global user.email "blackbox ai@gitlab.com"
      - git config --global user.name "Blackbox AI"
      - echo "Testing glab"
      - glab issue list
      - echo "Running Blackbox AI"
      - |
        blackbox ai run "
        You are an AI assistant helping with GitLab operations.

        Context: $AI_FLOW_CONTEXT
        Task: $AI_FLOW_INPUT
        Event: $AI_FLOW_EVENT

        Please execute the requested task using the available GitLab tools.
        Be thorough in your analysis and provide clear explanations.

        <important>
        Please use the glab CLI to access data from GitLab. The glab CLI has already been authenticated. You can run the corresponding commands.

        If you are asked to summarize an MR or issue or asked to provide more information then please post back a note to the MR/Issue so that the user can see it.
        You don't need to commit or push up changes, those will be done automatically based on the file changes you make.
        </important>
        "
      - git checkout --branch $CI_WORKLOAD_REF origin/$CI_WORKLOAD_REF
      - echo "Checking for git changes and pushing if any exist"
      - |
        if ! git diff --quiet || ! git diff --cached --quiet || [ --not --zero "$(git ls-files --others --exclude-standard)" ]; then
          echo "Git changes detected, adding and pushing..."
          git add .
          if git diff --cached --quiet; then
            echo "No staged changes to commit"
          else
            echo "Committing changes to branch: $CI_WORKLOAD_REF"
            git commit --message "Codex changes"
            echo "Pushing changes up to $CI_WORKLOAD_REF"
            git push https://gitlab-ci-token:$GITLAB_TOKEN@$GITLAB_HOST/gl-demo-ultimate-dev-ai-epic-17570/test-java-project.git $CI_WORKLOAD_REF
            echo "Changes successfully pushed"
          fi
        else
          echo "No git changes detected, skipping push"
        fi
    variables:
      - ANTHROPIC_API_KEY
      - GITLAB_TOKEN_BLACKBOX_AI
      - GITLAB_HOST
    ```

        </details>

Ayrıntılı talimatlar için [GitLab CLI agents docs](https://docs.gitlab.com/user/duo_agent_platform/agent_assistant/)'a başvurabilirsiniz.

---

### Örnekler

GitLab'da blackbox ai'u nasıl kullanabileceğinize dair bazı örnekleri burada bulabilirsiniz.

:::tip
`@blackbox ai`'dan farklı bir tetikleyici ifade kullanacak şekilde yapılandırabilirsiniz.
:::

- **Bir sorunu açıklama**

  Bu yorumu bir GitLab sayısına ekleyin.

  ```
  @blackbox ai explain this issue
  ```

  blackbox ai konuyu okuyacak ve net bir açıklama ile yanıt verecektir.

- **Bir sorunu düzeltme**

  In a GitLab issue, say:

  ```
  @blackbox ai fix this
  ```

  blackbox ai yeni bir dal oluşturacak, değişiklikleri uygulayacak ve değişiklikleri içeren bir birleştirme isteği açacaktır.

- **Birleştirme isteklerini inceleme**

  GitLab birleştirme isteğine aşağıdaki yorumu bırakın.

  ```
  @blackbox ai review this merge request
  ```

  blackbox ai, birleştirme isteğini inceleyecek ve geri bildirim sağlayacaktır.
